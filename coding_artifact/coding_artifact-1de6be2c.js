import{r as f,a as Y,R as A,m as Se}from"./assets/vendor-891a2f54.js";import{h as $e,p as pe}from"./assets/diff2html-520d79da.js";import{H as Q}from"./assets/hljs-c6694249.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();var fe={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=f,Fe=Symbol.for("react.element"),Le=Symbol.for("react.fragment"),Re=Object.prototype.hasOwnProperty,De=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0};function he(e,n,s){var r,o={},a=null,c=null;s!==void 0&&(a=""+s),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(c=n.ref);for(r in n)Re.call(n,r)&&!Ee.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)o[r]===void 0&&(o[r]=n[r]);return{$$typeof:Fe,type:e,key:a,ref:c,props:o,_owner:De.current}}U.Fragment=Le;U.jsx=he;U.jsxs=he;fe.exports=U;var t=fe.exports,X={},ie=Y;X.createRoot=ie.createRoot,X.hydrateRoot=ie.hydrateRoot;const Ie="_container_1kx9n_2",Be="_uploadZone_1kx9n_10",me={container:Ie,uploadZone:Be},Oe=({onFilesDrop:e,children:n})=>{const s=c=>{c.preventDefault(),c.currentTarget.style.borderColor="#0969da"},r=c=>{c.currentTarget.style.borderColor="#30363d"},o=c=>{c.preventDefault(),c.currentTarget.style.borderColor="#30363d",e(c.dataTransfer.files)},a=c=>{e(c.target.files),c.target.value=""};return t.jsxs("div",{className:me.container,children:[t.jsxs("div",{className:me.uploadZone,onDragOver:s,onDragLeave:r,onDrop:o,onClick:()=>document.getElementById("fileInput").click(),children:[t.jsx("p",{children:"Drag and drop your source code files here or click to select"}),t.jsx("input",{type:"file",id:"fileInput",style:{display:"none"},multiple:!0,onChange:a})]}),n]})},Pe="_button_nc3y6_2",Ae="_small_nc3y6_15",Me="_medium_nc3y6_22",Te="_large_nc3y6_29",He="_primary_nc3y6_47",We="_success_nc3y6_56",qe="_danger_nc3y6_65",ze="_ghost_nc3y6_75",Z={button:Pe,small:Ae,medium:Me,large:Te,default:"_default_nc3y6_37",primary:He,success:We,danger:qe,ghost:ze},te=({variant:e="default",size:n="medium",disabled:s=!1,type:r="button",onClick:o,children:a,className:c,..._})=>{const h=[Z.button,Z[e],Z[n],c].filter(Boolean).join(" ");return t.jsx("button",{type:r,className:h,onClick:o,disabled:s,..._,children:a})},Ge="_buttonWrapper_17g1b_1",Je={buttonWrapper:Ge};function _e(e,n,{openChat:s=!1,stream:r=!0,transformCompleteResponse:o=a=>a}={}){const[a,c]=f.useState(n),[_,h]=f.useState(n),[C,u]=f.useState(!1),[v,g]=f.useState(null),[l,i]=f.useState(!1);f.useEffect(()=>{if(!window.Poe){console.info("Poe not found in window object");return}return window.Poe.registerHandler(e,m=>{const d=m.responses[0];d.status==="error"?(g(d.statusText),c(n),u(!0),i(!1)):d.status==="incomplete"?(i(!0),h(d.content)):d.status==="complete"&&(i(!1),c(o(d.content)),h(d.content))})},[]);const p=f.useCallback(async m=>{if(m!=null&&m.trim()){i(!0),u(!1),g(null);try{if(console.log(m),!window.Poe){console.info("Poe not found in window object");return}await window.Poe.sendUserMessage(m,{handler:e,stream:r,openChat:s})}catch(d){console.log(d),u(!0),g(d)}}},[e,s,r]);return{sendMessage:p,sendUserMessage:p,response:a,isError:C,error:v,isLoading:l,streamingResult:_}}const Ce=(e,n,s)=>{const r=`@${e} ${n}`,o=JSON.stringify({...s,format:"json"});return`${r}
~~~
${o}`},ee=e=>{console.log(e);const n=e.replace(/\n\n---\n\n\[Logs\]\([^\)]+\)/g,"");return console.log(n),JSON.parse(n)},ge=e=>f.useMemo(()=>{try{const s=JSON.parse(e);if(s.status)return console.log("status",s.status),s.status}catch{}},[e]),ye=f.createContext(),T="~~~",xe=(e,n)=>{if(!e)return[];let s=Object.entries(e).map(([r,o])=>{const[a,c]=r.split(T);return{fileName:a,lineInfo:c,comments:o}});return n!=null&&n.content&&(s=[...s,{fileName:"global",lineInfo:"global",comments:[n]}]),s=s.filter(({comments:r})=>r.length),s},Ue=({comments:e,setComments:n,globalComment:s,setGlobalComment:r,children:o})=>{const a=(l,i,p)=>{const m=`${l}${T}${i}`,d={id:Date.now(),content:p};n(b=>({...b,[m]:[...b[m]||[],d]}))},c=l=>{const i={id:Date.now(),content:l};r(i)},_=()=>(s==null?void 0:s.content)||"",h=(l,i,p,m)=>{const d=`${l}${T}${i}`;n(b=>({...b,[d]:b[d].map((y,O)=>O===p?{...y,content:m}:y)}))},C=(l,i,p)=>{const m=`${l}${T}${i}`;n(d=>({...d,[m]:d[m].filter((b,y)=>y!==p)}))},u=(l,i)=>{const p=`${l}-${i}`;return e[p]||[]},v=f.useCallback(()=>xe(e,s),[e,s]),g=f.useCallback(l=>e?Object.entries(e).filter(([p])=>p.startsWith(`${l}${T}`)).map(([p,m])=>({lineInfo:p.split(T)[1],comments:m})):[],[e]);return t.jsx(ye.Provider,{value:{addComment:a,deleteComment:C,updateComment:h,getComments:u,getAllComments:v,addGlobalComment:c,getGlobalComment:_,getAllCommentsForFile:g},children:o})},ne=()=>f.useContext(ye),je=f.createContext(null);function Ke({children:e,initialFiles:n,initialComments:s,initialDiff:r,config:o}){const[a,c]=f.useState({}),[_,h]=f.useState(s),[C,u]=f.useState(),[v,g]=f.useState(o),l=xe(_,C),{response:i,isLoading:p,sendMessage:m,streamingResult:d}=_e("store",{isInitial:!0,files:n,comments:null,diff:r,description:v.description},{transformCompleteResponse:ee}),b=ge(d),y=!!Object.keys(a).length,O=!!l.length,k=f.useCallback(()=>{if(!y&&!O)return;const D=Ce(v.botName,"/update",{files:a,comments:l});m(D,{transformCompleteResponse:ee})},[a,l,y,O]),q=y||O;f.useEffect(()=>{i.isInitial||(h(i.comments||{}),u(""),c({}),g({...v,shouldShowUpload:!1,isInitialPage:!1}))},[i]);const H={config:v,uploadedFiles:a,setUploadedFiles:c,sendSubmitMessage:k,canSubmitMessage:q,files:i.files,isLoading:p,diff:i.diff,description:i.description,statusText:b};return t.jsx(je.Provider,{value:H,children:t.jsx(Ue,{setComments:h,setGlobalComment:u,globalComment:C,comments:_,children:e})})}function oe(){return f.useContext(je)}JSON.parse(document.getElementById("config-json-data").textContent);const de=({uploadedFiles:e,onSubmit:n,children:s,...r})=>{const{sendSubmitMessage:o,canSubmitMessage:a}=oe();return t.jsx("div",{className:Je.buttonWrapper,children:t.jsx(te,{onClick:o,disabled:!a,variant:"success",...r,children:s})})};const Ze="_diffContainer_vza99_1",Ve="_fileContent_vza99_3",Ye="_addCommentButton_vza99_23",Qe="_commentRow_vza99_46",Xe="_commentCell_vza99_50",F={diffContainer:Ze,fileContent:Ve,"d2h-code-side-emptyplaceholder":"_d2h-code-side-emptyplaceholder_vza99_13","d2h-info":"_d2h-info_vza99_13",addCommentButton:Ye,commentRow:Qe,commentCell:Xe},et="_container_1jkch_2",tt="_header_1jkch_14",nt="_buttonGroup_1jkch_25",ot="_content_1jkch_31",st="_noHeader_1jkch_36",W={container:et,header:tt,buttonGroup:nt,content:ot,noHeader:st},K=({header:e,buttons:n,children:s})=>t.jsxs("div",{className:W.container,children:[e&&t.jsxs("div",{className:W.header,children:[e,t.jsx("div",{className:W.buttonGroup,children:n})]}),t.jsx("div",{className:`${W.content} ${e?"":W.noHeader}`,children:s})]}),se=({content:e,onCopySuccess:n,onCopyError:s,defaultLabel:r="Copy",successLabel:o="Copied!",children:a=r,...c})=>{const[_,h]=f.useState(!1),C=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const u=document.createElement("textarea");u.value=e,u.style.top="0",u.style.left="0",u.style.position="fixed",u.style.opacity="0",document.body.appendChild(u),u.focus(),u.select(),document.execCommand("copy"),document.body.removeChild(u)}h(!0),n==null||n(),setTimeout(()=>h(!1),2e3)}catch(u){s==null||s(u)}};return t.jsx(te,{onClick:C,...c,children:_?o:a})},rt="_commentSection_1sd2d_1",ct="_stickyComment_1sd2d_12",at="_commentSectionHeader_1sd2d_22",lt="_comment_1sd2d_1",it="_commentList_1sd2d_38",mt="_commentWrapper_1sd2d_44",dt="_deleteComment_1sd2d_50",ut="_formHeader_1sd2d_63",pt="_commentContent_1sd2d_68",ft="_commentForm_1sd2d_76",ht="_commentInput_1sd2d_84",_t="_formFooter_1sd2d_95",Ct="_submitComment_1sd2d_99",gt="_closeButton_1sd2d_111",R={commentSection:rt,stickyComment:ct,commentSectionHeader:at,comment:lt,commentList:it,commentWrapper:mt,deleteComment:dt,formHeader:ut,commentContent:pt,commentForm:ft,commentInput:ht,formFooter:_t,submitComment:Ct,closeButton:gt},yt=({content:e,onDelete:n})=>t.jsx("div",{className:R.comment,children:t.jsxs("div",{className:R.commentWrapper,children:[t.jsx("div",{className:R.commentContent,children:e}),t.jsx("button",{className:R.deleteComment,onClick:n,children:"Ã—"})]})}),xt=({onSubmit:e})=>{const[n,s]=f.useState(""),r=o=>{o.preventDefault(),n.trim()&&(e(n),s(""))};return t.jsxs("form",{className:R.commentForm,onSubmit:r,children:[t.jsx("textarea",{value:n,onChange:o=>s(o.target.value),placeholder:"Add a comment...",className:R.commentInput}),t.jsx("div",{className:R.formFooter,children:t.jsx("button",{onClick:r,className:R.submitComment,children:"Comment"})})]})},ve=({lineNumber:e,comments:n,onAddComment:s,onDeleteComment:r,onClose:o})=>t.jsx(xt,{onSubmit:s}),be=({comments:e,onDeleteComment:n})=>e.length?t.jsx("div",{className:R.commentList,children:e.map((s,r)=>t.jsx(yt,{...s,onDelete:()=>n(r)},r))}):null,Ne=({content:e,filename:n,children:s="Deploy",...r})=>{const{uploadedFiles:o,config:a}=oe(),{sendMessage:c,isLoading:_,response:h,streamingResult:C}=_e(`deploy-${n}`,"",{transformCompleteResponse:ee}),u=ge(C);return a.deploySupportedFileExtensions.includes(n.split(".").pop())?h.url?t.jsx(se,{content:h.url,...r,children:"Deployed. Click to Copy!"}):t.jsx(te,{onClick:()=>c(Ce(a.botName,"/deploy",{filename:n,files:o})),...r,children:_?u||"Deploying":"Deploy"}):null},jt={drawFileList:!1,matching:"lines",outputFormat:"line-by-line",highlight:!1,colorScheme:"dark",renderNothingWhenEmpty:!0,rawTemplates:{"generic-wrapper":'<div class="d2h-auto-color-scheme">{{{content}}}</div>',"line-by-line-file-diff":`
            <div id="{{fileHtmlId}}" data-lang="{{file.language}}">
                <div class="d2h-file-list-wrapper">
                    <div class="d2h-file-list-header">
                        <span class="d2h-file-name-wrapper">
                            <span class="d2h-file-name">{{file.fileName}}</span>
                        </span>
                    </div>
                </div>
                <div class="d2h-file-diff">
                    <div class="d2h-code-wrapper">
                        <table class="d2h-diff-table">
                            <tbody class="d2h-diff-tbody">
                                {{{diffs}}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>`}},vt=A.memo(({file:e,fileContent:n,commentsEnabled:s=!0})=>{const r=A.useRef(null),[o,a]=f.useState(null),c=A.useRef(null),[_,h]=f.useState([]),{addComment:C,deleteComment:u,getComments:v,getAllCommentsForFile:g}=ne(),l=f.useMemo(()=>({__html:$e([e],jt)}),[e]),i=f.useCallback(()=>{if(!r.current)return;(()=>{r.current.querySelectorAll(`.${F.commentRow}`).forEach(j=>{j!==c.current&&j.remove()})})();const H=g(e.newName).reduce((x,{lineInfo:j,comments:E})=>(x[j]=E,x),{}),D=[],S={};r.current.querySelectorAll(".d2h-code-linenumber").forEach(x=>{var I,$,N,B,w,P;const j=(N=($=(I=x.querySelector(".line-num1"))==null?void 0:I.textContent)==null?void 0:$.trim)==null?void 0:N.call($),M=((P=(w=(B=x.querySelector(".line-num2"))==null?void 0:B.textContent)==null?void 0:w.trim)==null?void 0:P.call(w))||j;S[M]||(S[M]=[]),S[M].push(x)}),Object.entries(S).forEach(([x,j])=>{const E=H[x];if(!(E!=null&&E.length))return;const I=(j[1]?j[1]:j[0]).closest("tr");if(!I)return;const $=I.closest("tbody");if(!$)return;const N=document.createElement("tr");N.className=`${F.commentRow}`,N.setAttribute("data-line",x);const B=document.createElement("div");B.className="portal-container";const w=document.createElement("td");w.className=`${F.commentCell}`,w.colSpan=3,w.appendChild(B),N.appendChild(w),I.nextSibling?$.insertBefore(N,I.nextSibling):$.appendChild(N),D.push(t.jsx(A.Fragment,{children:Y.createPortal(t.jsx(be,{comments:E,onDeleteComment:P=>u(e.newName,x,P)}),B)},`${e.newName}-${x}`))}),h(D)},[e.newName,g,u]);A.useEffect(()=>{setTimeout(async()=>{var k;if(r.current){const q=r.current.querySelectorAll(".d2h-code-linenumber"),H=((k=e.newName)==null?void 0:k.split(".").pop())||"";q.forEach(S=>{const x=S.closest("tr");if(!x.classList.contains("d2h-del")&&s){const j=document.createElement("button");j.className=F.addCommentButton,j.innerHTML="+",x.appendChild(j),x.addEventListener("mouseenter",()=>{j.style.opacity="1"}),x.addEventListener("mouseleave",()=>{j.style.opacity="0"}),j.addEventListener("click",E=>{var P,z,re,ce,G,ae;const M=(re=(z=(P=S.querySelector(".line-num1"))==null?void 0:P.textContent)==null?void 0:z.trim)==null?void 0:re.call(z),$=((ae=(G=(ce=S.querySelector(".line-num2"))==null?void 0:ce.textContent)==null?void 0:G.trim)==null?void 0:ae.call(G))||M;if(o===$)return;c.current&&(c.current.remove(),c.current=null),a($);const N=document.createElement("tr");N.className=F.commentRow,N.innerHTML=`<td colspan="3" class="${F.commentCell}"></td>`;const B=`.${F.commentRow}[data-line="${$}"]`,w=Array.from(r.current.querySelectorAll(B));if(w.length>0){const le=w[w.length-1];le.parentNode.insertBefore(N,le.nextSibling)}else x.parentNode.insertBefore(N,x.nextSibling);c.current=N})}});const D=r.current.querySelectorAll(".d2h-code-line-ctn");D==null||D.forEach(S=>{S.dataset.highlighted||(Q.configure({ignoreUnescapedHTML:!0}),S.classList.add(`language-${H}`),Q.highlightElement(S))})}},0)},[l,e.newName,s,o]),A.useEffect(()=>{i()},[i]);const p=k=>{o&&(C(e.newName,o,k),i())},m=k=>{u(e.newName,o,k),i()},d=()=>{c.current&&(c.current.remove(),c.current=null),a(null)},b=e.isNew?e.newName:e.oldName,y=e.isRename?`${e.oldName} -> ${e.newName}`:b,O=t.jsxs(t.Fragment,{children:[t.jsx(Ne,{size:"small",filename:e.newName}),t.jsx(se,{size:"small",content:n})]});return t.jsx(K,{header:y,buttons:O,children:t.jsxs("div",{className:F.diffContainer,children:[t.jsx("div",{className:F.fileContent,ref:r,dangerouslySetInnerHTML:l}),_,s&&o&&c.current&&Y.createPortal(t.jsx(ve,{lineNumber:o,comments:v(e.newName,o),onAddComment:p,onDeleteComment:m,onClose:d}),c.current.querySelector(`.${F.commentCell}`))]})})}),bt=({diff:e,files:n,commentsEnabled:s=!0})=>e?f.useMemo(()=>pe(e),[e]).map(o=>t.jsx(vt,{file:o,fileContent:n[o.newName],commentsEnabled:s},o.newName)):null;const Nt="_container_1mk1f_1",wt="_codeWrapper_1mk1f_7",St="_inlineCommentSection_1mk1f_16",$t="_codeLine_1mk1f_21",kt="_lineNumber_1mk1f_35",Ft="_hoverable_1mk1f_48",Lt="_lineContent_1mk1f_57",Rt="_addCommentButton_1mk1f_61",L={container:Nt,codeWrapper:wt,inlineCommentSection:St,codeLine:$t,lineNumber:kt,hoverable:Ft,lineContent:Lt,addCommentButton:Rt},Dt=e=>{const n=e.split(".").pop().toLowerCase();return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",rb:"ruby",java:"java",cpp:"cpp",c:"c",cs:"csharp",html:"html",css:"css",scss:"scss",sass:"scss",php:"php",go:"go",rs:"rust",swift:"swift",kt:"kotlin",md:"markdown",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",sql:"sql",sh:"bash",bash:"bash",dockerfile:"dockerfile"}[n]||"plaintext"},Et=({lineNumber:e,content:n,commentsEnabled:s,onLineSelect:r,language:o,selectedLine:a,existingComments:c,onAddComment:_,onDeleteComment:h,onClose:C})=>{const[u,v]=f.useState(!1),g=f.useRef(null);return f.useEffect(()=>{!g.current||g.current.dataset.highlighted==="yes"||Q.highlightElement(g.current)},[n]),t.jsxs("div",{className:L.lineContainer,children:[t.jsxs("div",{className:L.codeLine,"data-line":e,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onClick:()=>r(e),children:[t.jsx("span",{className:`${L.lineNumber}${s?" "+L.hoverable:""}`,children:String(e).padStart(3)}),t.jsx("span",{ref:g,className:`${L.lineContent} language-${o}`,children:n}),s&&t.jsx("button",{className:L.addCommentButton,style:{opacity:u?1:0},onClick:l=>{l.stopPropagation(),r(e)},children:"+"})]}),c&&c.length>0&&t.jsx("div",{className:L.existingComments,children:t.jsx(be,{comments:c,onDeleteComment:l=>h(l)})}),a===e&&s&&t.jsx(ve,{lineNumber:e,comments:c||[],onAddComment:_,onDeleteComment:h,onClose:C})]})},ue=({filename:e,content:n,commentsEnabled:s=!0})=>{const[r,o]=f.useState(null),{addComment:a,deleteComment:c,getAllCommentsForFile:_}=ne(),h=Dt(e),C=n.split(`
`),u=t.jsxs(t.Fragment,{children:[t.jsx(Ne,{size:"small",filename:e}),t.jsx(se,{size:"small",content:n})]}),g=_(e).reduce((p,{lineInfo:m,comments:d})=>(p[m]=d,p),{}),l=(p,m)=>{a(e,p,m)},i=(p,m)=>{c(e,p,m)};return t.jsx(K,{header:e,buttons:u,children:t.jsx("div",{className:L.container,children:t.jsx("pre",{className:L.codeWrapper,children:t.jsx("code",{className:`language-${h}`,children:C.map((p,m)=>{const d=m+1,b=g[d]||[];return t.jsx(Et,{lineNumber:d,content:p,commentsEnabled:s,onLineSelect:o,language:h,selectedLine:r,existingComments:b,onAddComment:y=>l(d,y),onDeleteComment:y=>i(d,y),onClose:()=>o(null)},d)})})})})})},It="_container_7qw4f_2",Bt={container:It},Ot="_diffDescription_guii0_2",Pt={diffDescription:Ot},we=({markdown:e=""})=>t.jsx("div",{className:"markdown-container prose prose-sm sm:prose lg:prose-lg max-w-none",dangerouslySetInnerHTML:{__html:Se(e)}}),At=({description:e})=>e?t.jsx(K,{children:t.jsx("div",{className:Pt.diffDescription,children:t.jsx(we,{markdown:e})})}):null;function Mt(e){return e?pe(e).map(n=>n.newName):[]}const Tt="_container_r5p9y_1",Ht="_commentForm_r5p9y_7",Wt="_commentInput_r5p9y_11",V={container:Tt,commentForm:Ht,commentInput:Wt},qt=({children:e})=>{const{addGlobalComment:n,getGlobalComment:s}=ne(),r=s(),o=a=>{const c=a.target.value;n(c)};return t.jsx(K,{header:"Comment",children:t.jsxs("div",{className:V.container,children:[t.jsx("div",{className:V.commentForm,children:t.jsx("textarea",{value:r,onChange:o,placeholder:"What would you like to do?",className:V.commentInput})}),e]})})},zt="_overlay_yjpva_1",Gt="_content_yjpva_15",Jt="_spinner_yjpva_31",Ut="_spin_yjpva_31",J={overlay:zt,content:Gt,spinner:Jt,spin:Ut};function Kt({text:e="Loading...",isVisible:n=!0}){return n?(console.log({text:e}),t.jsx("div",{className:J.overlay,children:t.jsxs("div",{className:J.content,children:[t.jsx("div",{className:J.spinner}),t.jsx("div",{className:J.text,children:t.jsx(we,{markdown:e})})]})})):null}const Zt=()=>{const{uploadedFiles:e,setUploadedFiles:n,files:s,diff:r,config:o,description:a,isLoading:c,statusText:_}=oe(),h=Mt(r),C=Object.keys(s).reduce((l,i)=>(h.includes(i)||(l[i]=s[i]),l),{}),u=async l=>{try{const i=m=>new Promise((d,b)=>{const y=new FileReader;y.onload=()=>d(y.result),y.onerror=b,y.readAsText(m)}),p=await Promise.all(Array.from(l).map(async m=>[m.name,await i(m)]));n(m=>({...m,...Object.fromEntries(p)}))}catch(i){console.error("Error reading files:",i)}},v=l=>{n(i=>{const p={...i};return delete p[l],p})},g=`# ðŸš€ ${o.botName}
ðŸ¤¯ Tired of AI bots playing hide-and-seek with your code?
Finally! A way to get AI code assistant without the endless "..." or "code continues here" nonsense. Just upload, ask, and get the job done. Simple as that! âš¡ï¸
`;return t.jsxs("div",{className:Bt.container,children:[t.jsx(Kt,{isVisible:c,text:_}),t.jsx(At,{description:o.isInitialPage?g:a}),o.shouldShowUpload&&t.jsx(Oe,{onFilesDrop:u,children:t.jsx(de,{uploadedFiles:e,size:"large",children:"Send message"})}),t.jsx(bt,{diff:r,files:s,commentsEnabled:o.shouldShowComments}),Object.keys(C).map(l=>t.jsx(ue,{filename:l,content:C[l],commentsEnabled:o.shouldShowComments},l)),Object.keys(e).map(l=>t.jsx(ue,{filename:l,content:e[l],onRemove:()=>v(l),commentsEnabled:o.shouldShowComments},l)),o.shouldShowComments&&t.jsx(qt,{children:t.jsx(de,{uploadedFiles:e,size:"large",children:"Send message"})})]})},Vt=JSON.parse(document.getElementById("config-json-data").textContent),Yt=JSON.parse(document.getElementById("files-json-data").textContent),Qt=JSON.parse(document.getElementById("diff-json-data").textContent),Xt=JSON.parse(document.getElementById("comments-json-data").textContent);X.createRoot(document.getElementById("root")).render(t.jsx(A.StrictMode,{children:t.jsx(Ke,{initialFiles:Yt,initialComments:Xt,initialDiff:Qt,config:Vt,children:t.jsx(Zt,{})})}));
